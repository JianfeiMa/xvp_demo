{"version":3,"sources":["webpack:///./src/views/product/detail.vue","webpack:///./src/views/product/detail.vue?72e4","webpack:///./src/views/product/detail.vue?11ac","webpack:///./src/views/product/detail.vue?bf16"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB,aAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC,I;;;;;;;ACjBD;;AAEA;AACA;AACA;AACA;AACA,iDAAoF;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;;ACpBA;AACA;;;AAGA;AACA,sDAAqD,qBAAqB,mBAAmB,OAAO,6CAA6C,oCAAoC,OAAO,kDAAkD,6BAA6B,OAAO,4BAA4B,6BAA6B,6BAA6B,oCAAoC,kCAAkC,yCAAyC,OAAO,YAAY,wFAAwF,MAAM,qBAAqB,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,KAAK,KAAK,WAAW,WAAW,WAAW,WAAW,WAAW,qjCAAqjC,sBAAsB,2GAA2G,aAAa,oUAAoU,4IAA4I,sDAAsD,sBAAsB,kBAAkB,sBAAsB,4DAA4D,wGAAwG,UAAU,mCAAmC,mEAAmE,yKAAyK,2RAA2R,WAAW,iCAAiC,0CAA0C,gCAAgC,eAAe,YAAY,oBAAoB,iCAAiC,iDAAiD,gDAAgD,yDAAyD,sDAAsD,uDAAuD,2BAA2B,uBAAuB,6DAA6D,uEAAuE,gbAAgb,wMAAwM,8DAA8D,gCAAgC,oBAAoB,eAAe,mBAAmB,KAAK,8CAA8C,4CAA4C,yGAAyG,EAAE,mBAAmB,mBAAmB,8BAA8B,yCAAyC,4CAA4C,eAAe,2BAA2B,4BAA4B,yBAAyB,+BAA+B,oBAAoB,eAAe,0BAA0B,4BAA4B,yBAAyB,+BAA+B,oBAAoB,eAAe,sBAAsB,kCAAkC,8BAA8B,0HAA0H,oCAAoC,+CAA+C,kDAAkD,qDAAqD,gFAAgF,0FAA0F,0CAA0C,kKAAkK,8BAA8B,0DAA0D,6DAA6D,sEAAsE,sEAAsE,oEAAoE,yDAAyD,QAAQ,OAAO,2EAA2E,yEAAyE,6CAA6C,2CAA2C,wDAAwD,OAAO,MAAM,0EAA0E,wEAAwE,6CAA6C,2CAA2C,uDAAuD,wHAAwH,2CAA2C,KAAK,0FAA0F,2CAA2C,mEAAmE,0EAA0E,iEAAiE,4TAA4T,4CAA4C,wCAAwC,KAAK,4EAA4E,uCAAuC,mCAAmC,iEAAiE,EAAE,sDAAsD,2BAA2B,sCAAsC,mDAAmD,2BAA2B,wCAAwC,oDAAoD,kCAAkC,0CAA0C,2BAA2B,wCAAwC,eAAe,gCAAgC,EAAE,2BAA2B,KAAK,iEAAiE,2BAA2B,qEAAqE,6CAA6C,yIAAyI,gEAAgE,uDAAuD,qNAAqN,yDAAyD,yIAAyI,kBAAkB,wEAAwE,2EAA2E,gEAAgE,oDAAoD,OAAO,qFAAqF,kDAAkD,gDAAgD,+CAA+C,EAAE,4CAA4C,wCAAwC,EAAE,0CAA0C,OAAO,4EAA4E,wCAAwC,sCAAsC,qCAAqC,EAAE,8BAA8B,yBAAyB,oBAAoB,EAAE,oCAAoC,iCAAiC,2FAA2F,8CAA8C,iDAAiD,kDAAkD,sCAAsC,+jBAA+jB,EAAE,+CAA+C,uDAAuD,kUAAkU,EAAE,uDAAuD,mOAAmO,EAAE,4BAA4B,2BAA2B,OAAO,8DAA8D,0BAA0B,wBAAwB,uBAAuB,EAAE,eAAe,yBAAyB,uBAAuB,y1BAAy1B,OAAO,+CAA+C,qBAAqB,mBAAmB,OAAO,6CAA6C,oCAAoC,OAAO,kDAAkD,6BAA6B,OAAO,4BAA4B,6BAA6B,6BAA6B,oCAAoC,kCAAkC,yCAAyC,OAAO,2CAA2C;;AAE7/a;;;;;;;;ACPA,ihCAAghC,sBAAsB,2GAA2G,aAAa,oUAAoU,2E","file":"4.build.js?de6ba7931f770cd7559f","sourcesContent":["var __vue_script__, __vue_template__\nrequire(\"-!style-loader!css-loader?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-10be2e2f&file=detail.vue!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./detail.vue\")\n__vue_script__ = require(\"-!babel-loader!../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./detail.vue\")\n__vue_template__ = require(\"-!vue-html-loader!../../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./detail.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"/Volumes/Transcend/GITROOT/xvp_demo/web/mall/src/views/product/detail.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/product/detail.vue\n// module id = 139\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-10be2e2f&file=detail.vue!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./detail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-10be2e2f&file=detail.vue!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./detail.vue\", function() {\n\t\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js?sourceMap!../../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-10be2e2f&file=detail.vue!../../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./detail.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/style-loader!./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-10be2e2f&file=detail.vue!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/product/detail.vue\n// module id = 140\n// module chunks = 4","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n    .tabbar-wrap .wq-img{\\n        width:20px; margin-right:10px;\\n    }\\n    .tabbar-wrap .weui_cell_ft.with_arrow {\\n        margin-right:0 !important;\\n    }\\n    .tabbar-wrap .weui_cell_ft.with_arrow:after{\\n        right:0 !important;\\n    }\\n    .tabbar-wrap .pdt-tit{\\n      display: -webkit-box;\\n          overflow: hidden;\\n          text-overflow: ellipsis;\\n          -webkit-line-clamp: 2;\\n          -webkit-box-orient: vertical;\\n    }\\n\\n\", \"\", {\"version\":3,\"sources\":[\"/./src/views/product/detail.vue.style\"],\"names\":[],\"mappings\":\";IAuQA;QACA,WAAA,CAAA,kBAAA;KACA;IACA;QACA,0BAAA;KACA;IACA;QACA,mBAAA;KACA;IACA;MACA,qBAAA;UACA,iBAAA;UACA,wBAAA;UACA,sBAAA;UACA,6BAAA;KACA\",\"file\":\"detail.vue\",\"sourcesContent\":[\"<template>\\n<div class=\\\"tabbar-wrap\\\">\\n    <!-- banner -->\\n    <c-top-back :mar='true'></c-top-back>\\n    <c-messages v-if=\\\"product_no\\\" :status=\\\"2\\\" msg=\\\"商品不存在或已删除\\\">\\n        <div slot=\\\"btn\\\">\\n          <c-button type=\\\"primary\\\" text=\\\"返回首页\\\" @click.native=\\\"btnClick\\\"></c-button>\\n        </div>\\n    </c-messages>\\n    <div v-else>\\n        <div v-if=\\\"dataReady\\\">\\n            <c-product-wrap type=\\\"normal\\\">\\n              <c-product :title=\\\"goods.name\\\" :des=\\\"goods.logistics_fee | formatPriceCNY\\\" :price=\\\"goods.price\\\" :pic=\\\"goods.pics\\\"></c-product>\\n            </c-product-wrap>\\n            <c-cell-wrap>\\n                <c-cell :title=\\\"storeInfo.name\\\" value=\\\"进入店铺\\\" is-link @click.native=\\\"link_home\\\">\\n                    <img class=\\\"wq-img\\\" slot=\\\"icon\\\" src='http://static.taggole.com/sithbrobot/poster/1489997146660.jpg'/>\\n                </c-cell>\\n            </c-cell-wrap>\\n\\n            <c-title title=\\\"商品详情\\\"></c-title>\\n            <div class=\\\"wrap-detail\\\">\\n                <p>{{goods.product_detail}}</p>\\n                <p v-for='i in goods.product_desc'><img v-bind:src=\\\"i\\\" alt=\\\"\\\" style=\\\"width:100%; height:auto;\\\"></p>\\n            </div>\\n\\n            <c-sku v-model=\\\"sku.status\\\" :title=\\\"goods.name\\\" :img=\\\"goods.pics\\\" :price=\\\"goods.price\\\" :text=\\\"sku.buttonTxt\\\" :sku='skuList' @submit=\\\"submit\\\"></c-sku>\\n            <c-button text=\\\"立即购买\\\" size=\\\"block\\\" @click.native=\\\"barClick\\\" type=\\\"primary\\\" style=\\\"position:fixed; bottom:0\\\"></c-button>\\n        </div>\\n    </div>\\n        \\n</div>\\n\\n</template>\\n<script>\\n    import utils from '../../libs/utils.js';\\n    import constants from '../../libs/constants.js';\\n    export default {\\n        data (){\\n            return {\\n                dataReady:false,\\n                goods:{},//商品信息\\n                skuList:[],//商品sku列表\\n                skuList1:[],\\n                storeInfo:{name:'测试'},//店铺信息\\n                content:{},//商品详细信息\\n                goods_id:0,//商品id\\n                sku:{\\n                    status:false,\\n                    url:basepath + \\\"/mall/store/shelf_product_sku_get\\\",\\n                    buttonTxt:\\\"下一步\\\",\\n                },\\n                submitType:\\\"buy\\\",\\n                hasCart:true,//是否显示购物车\\n                limitNum:'',\\n                rule_flag:'',\\n                pageId:'',\\n                invoiceTypes:[],\\n                logistic_flg:1,\\n                product_no:false\\n            }\\n        },\\n        mounted: function () {\\n            this.$nextTick(function () {  \\n                this.init();\\n            })\\n        },\\n        methods:{\\n            submit(submitData){\\n                if(this.submitType == \\\"buy\\\"){\\n                    var buy_info_price = null;\\n                    $.each(this.skuList1,function(i,v){\\n                        if(v.id==submitData.sku.id){\\n                            buy_info_price = v.price;\\n                        }\\n                    })\\n                    \\n                    var buy_info = {\\n                        \\\"products\\\":[\\n                            {\\n                                \\\"id\\\":submitData.sku.id,\\n                                \\\"name\\\": this.goods.name,//商品名称\\n                                \\\"pic\\\": this.goods.pics,//商品图片\\n                                \\\"properties\\\": submitData.sku.name,//规格信息\\n                                \\\"price\\\": buy_info_price,//货架商品价格\\n                                \\\"num\\\": submitData.num,//购买商品的数量\\n                            }\\n                        ],\\n                        'logistics_fee':this.goods.logistics_fee,\\n                        'discount':0,\\n                        'logistic_flg':1\\n                    };\\n                    utils.setSession(\\\"buy_info\\\",buy_info);\\n                    utils.go({path:\\\"/order/add\\\"},this.$router);\\n                }else{\\n                    this.sku.status = false;\\n                    this.$vux.toast.show({\\n                        text:\\\"操作成功\\\",\\n                        type:\\\"success\\\"\\n                    });\\n                }\\n\\n\\n            },\\n            barClick(type){\\n                this.sku.status = true;\\n                this.submitType = \\\"buy\\\";\\n            },\\n            link_home(){\\n                utils.go({path:'/home/home',query:{id:this.$route.query.store_id}},this.$router,true);\\n            },\\n            btnClick(){\\n                utils.go({path:'/home/home',query:{id:this.$route.query.store_id}},this.$router,true);\\n            },\\n            init(){\\n                let that = this;\\n                utils.ajax({\\n                    url: basepath + \\\"/user/product/get\\\",\\n                    async:false,\\n                    data:{\\\"id\\\":that.$route.query.product_id},\\n                    success: function(data){\\n                        if(data.code=='SUCESS'){\\n                            that.goods=data.result;\\n                            that.goods.logistics_fee=that.goods.logistics_fee;\\n                            that.goods.product_desc=JSON.parse(that.goods.product_desc);\\n                            utils.ajax({\\n                                url: basepath + \\\"/user/product/sku/get\\\",\\n                                async:false,\\n                                data:{\\\"product_id\\\":data.result.id},\\n                                success: function(res){\\n                                    if(res.code=='SUCESS'){\\n                                        var max=res.result[0].price;\\n                                        var min=res.result[0].price;\\n                                        var len=res.result.length;\\n\\n                                        for(var ii=1; ii<len; ii++){\\n                                          if(res.result[ii].price > max){\\n                                            max = res.result[ii].price;\\n                                          }\\n                                        }\\n\\n                                        for(var i=1; i<len; i++){\\n                                          if(res.result[i].price < min){\\n                                            min = res.result[i].price;\\n                                          }\\n                                        }\\n                                        if(min!=max){\\n                                            that.goods.price='¥'+utils.formatPrice(min)+' ~ ¥'+utils.formatPrice(max);\\n                                        }else{\\n                                            that.goods.price='¥'+utils.formatPrice(min);\\n                                        }\\n                                        that.skuList1=res.result;\\n                                        $.each(res.result,function(i,v){\\n                                            that.skuList.push({\\n                                                id:v.id,\\n                                                name:v.sku_str,\\n                                                price:utils.formatPrice(v.price),\\n                                                stock:v.stock\\n                                            })\\n                                        })\\n                                    }else{\\n                                        that.$vux.alert.show(res.message);\\n                                    }\\n                                }\\n                                \\n                            });\\n\\n                            that.dataReady = true;\\n                        }else if(data.code=='xvp_product1002'){\\n                            that.product_no=true;\\n                        }else if(data.code=='user_seller_error'){\\n                            that.$vux.alert.show({content:'访问超时',onHide :function(){\\n                              utils.go({path:'/login/login',query:{id:sessionStorage.getItem('product_id')},that.$router);\\n                            }});\\n                        }else{\\n                            that.$vux.alert.show(data.message);\\n                        }\\n                        // else if(data.code=='user_seller_error'){\\n                        //     utils.ajax({\\n                        //       url: basepath + \\\"/user/user/getIsvInfo\\\",\\n                        //       success: function(data) {\\n                        //         if(data.code==\\\"SUCESS\\\") {  \\n\\n                        //           $xvp.login({\\n                        //               app_key : data.result.appId,\\n                        //               isv_url: data.result.isvUrl,\\n                        //               success : function(xvp_uid){\\n                        //                 utils.ajax({\\n                        //                   url: basepath + \\\"/user/user/login\\\",\\n                        //                   data:{'xvp_uid':xvp_uid},\\n                        //                   success: function(res) {\\n                        //                     if(res.code==\\\"SUCESS\\\") { \\n                        //                       that.init();\\n\\n                        //                     } else {\\n                        //                       that.$vux.alert.show(res.message);\\n                        //                     }\\n                        //                   },\\n                        //                 });\\n                        //               }\\n                        //           });\\n\\n                        //           } else {\\n                        //             that.$vux.alert.show(data.message);\\n                        //           }\\n                        //         },\\n                        //       });\\n                        // }\\n\\n                    } \\n                });\\n                utils.MenuShare();\\n                // utils.ajax({\\n                //   url:basepath+ \\\"/common/wxconfig/get\\\",\\n                //   data:{'base_url':window.location.href.split('#')[0]},\\n                //   success: function(data) {\\n                //     if(data.code=='SUCESS') {\\n                //       wx.config({\\n                //           debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\\n                //           appId: data.result.appId, // 必填，公众号的唯一标识\\n                //           timestamp: data.result.timestamp, // 必填，生成签名的时间戳\\n                //           nonceStr: data.result.nonceStr, // 必填，生成签名的随机串\\n                //           signature: data.result.signature,// 必填，签名，见附录1\\n                //           jsApiList: ['onMenuShareAppMessage','onMenuShareTimeline'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2\\n                //       });\\n                //       wx.ready(function(){\\n                //         wx.onMenuShareAppMessage({\\n                //             title: that.goods.title, // 分享标题\\n                //             desc: '【'+that.storeInfo.name+'】发现好商品，立即分享给你，进店有惊喜呦。', // 分享描述\\n                //             link: window.location.href, // 分享链接\\n                //             imgUrl: that.goods.pics // 分享图标\\n                //         });\\n\\n                //         wx.onMenuShareTimeline({\\n                //             title: that.goods.title, // 分享标题\\n                //             link: window.location.href, // 分享链接\\n                //             imgUrl: that.goods.pics // 分享图标\\n                //         });\\n                //       })\\n                //     } else {\\n                //       that.$vux.alert.show(data.message);\\n                //     }\\n                //   },\\n                // });\\n            }\\n            \\n        },\\n        components:{\\n            \\\"cProduct\\\": require('../../components/x-product/x-product.vue'),\\n            \\\"cProductWrap\\\": require('../../components/x-product/x-product-wrap.vue'),\\n            \\\"cTopBack\\\":require('../../components/x-top-back/x-top-back.vue'),\\n            \\\"cCellWrap\\\":require('../../components/cell/cell-wrap.vue'),\\n            \\\"cCell\\\":require('../../components/cell/cell.vue'),\\n            \\\"cButton\\\":require('../../components/button/button.vue'),\\n            \\\"cTitle\\\":require('../../components/x-title/x-title.vue'),\\n            \\\"cPayBar1\\\":require('../../components/x-pay-bar/x-pay-bar1.vue'),\\n            \\\"cPayBar1\\\":require('../../components/x-pay-bar/x-pay-bar2.vue'),\\n            \\\"cSku\\\":require('../../components/x-sku/x-sku.vue'),\\n            \\\"cMessages\\\": require('../../components/x-messages/x-messages.vue'),\\n        }\\n    }\\n</script>\\n<style>\\n    .tabbar-wrap .wq-img{\\n        width:20px; margin-right:10px;\\n    }\\n    .tabbar-wrap .weui_cell_ft.with_arrow {\\n        margin-right:0 !important;\\n    }\\n    .tabbar-wrap .weui_cell_ft.with_arrow:after{\\n        right:0 !important;\\n    }\\n    .tabbar-wrap .pdt-tit{\\n      display: -webkit-box;\\n          overflow: hidden;\\n          text-overflow: ellipsis;\\n          -webkit-line-clamp: 2;\\n          -webkit-box-orient: vertical;\\n    }\\n\\n</style>\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?sourceMap!./~/vue-loader/lib/style-rewriter.js?id=_v-10be2e2f&file=detail.vue!./~/vue-loader/lib/selector.js?type=style&index=0!./src/views/product/detail.vue\n// module id = 141\n// module chunks = 4","module.exports = \"\\n<div class=\\\"tabbar-wrap\\\">\\n    <!-- banner -->\\n    <c-top-back :mar='true'></c-top-back>\\n    <c-messages v-if=\\\"product_no\\\" :status=\\\"2\\\" msg=\\\"商品不存在或已删除\\\">\\n        <div slot=\\\"btn\\\">\\n          <c-button type=\\\"primary\\\" text=\\\"返回首页\\\" @click.native=\\\"btnClick\\\"></c-button>\\n        </div>\\n    </c-messages>\\n    <div v-else>\\n        <div v-if=\\\"dataReady\\\">\\n            <c-product-wrap type=\\\"normal\\\">\\n              <c-product :title=\\\"goods.name\\\" :des=\\\"goods.logistics_fee | formatPriceCNY\\\" :price=\\\"goods.price\\\" :pic=\\\"goods.pics\\\"></c-product>\\n            </c-product-wrap>\\n            <c-cell-wrap>\\n                <c-cell :title=\\\"storeInfo.name\\\" value=\\\"进入店铺\\\" is-link @click.native=\\\"link_home\\\">\\n                    <img class=\\\"wq-img\\\" slot=\\\"icon\\\" src='http://static.taggole.com/sithbrobot/poster/1489997146660.jpg'/>\\n                </c-cell>\\n            </c-cell-wrap>\\n\\n            <c-title title=\\\"商品详情\\\"></c-title>\\n            <div class=\\\"wrap-detail\\\">\\n                <p>{{goods.product_detail}}</p>\\n                <p v-for='i in goods.product_desc'><img v-bind:src=\\\"i\\\" alt=\\\"\\\" style=\\\"width:100%; height:auto;\\\"></p>\\n            </div>\\n\\n            <c-sku v-model=\\\"sku.status\\\" :title=\\\"goods.name\\\" :img=\\\"goods.pics\\\" :price=\\\"goods.price\\\" :text=\\\"sku.buttonTxt\\\" :sku='skuList' @submit=\\\"submit\\\"></c-sku>\\n            <c-button text=\\\"立即购买\\\" size=\\\"block\\\" @click.native=\\\"barClick\\\" type=\\\"primary\\\" style=\\\"position:fixed; bottom:0\\\"></c-button>\\n        </div>\\n    </div>\\n        \\n</div>\\n\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/product/detail.vue\n// module id = 143\n// module chunks = 4"],"sourceRoot":""}